{% extends "base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 9 - –ü–æ–¥–∞—Ä–æ–∫ {{ gift_id + 1 }}{% endblock %}

{% block main %}
<style>
    .gift-page-background {
        background: linear-gradient(135deg, #1a237e 0%, #4a148c 100%);
        min-height: 100vh;
        padding: 50px 20px;
        position: relative;
        overflow-x: hidden;
    }
    
    .gift-page-background::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(255, 87, 34, 0.1) 0%, transparent 50%),
            url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><circle cx="100" cy="100" r="1" fill="white" opacity="0.1"/></svg>');
        z-index: 1;
    }
    
    .gift-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 60px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 30px;
        box-shadow: 
            0 30px 80px rgba(0, 0, 0, 0.4),
            0 0 100px rgba(255, 215, 0, 0.3),
            inset 0 0 50px rgba(255, 255, 255, 0.8);
        border: 8px solid #ffd700;
        position: relative;
        z-index: 2;
        text-align: center;
        backdrop-filter: blur(10px);
    }
    
    .gift-container::before {
        content: '';
        position: absolute;
        top: -15px;
        left: -15px;
        right: -15px;
        bottom: -15px;
        background: linear-gradient(45deg, #ff0000, #00ff00, #0000ff, #ffd700);
        border-radius: 40px;
        z-index: -1;
        opacity: 0.2;
        animation: rainbow-border 10s infinite linear;
    }
    
    @keyframes rainbow-border {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
    }
    
    .gift-header {
        margin-bottom: 50px;
        position: relative;
    }
    
    .gift-header h1 {
        font-size: 4rem;
        color: #c62828;
        text-shadow: 
            3px 3px 0 #ffd700,
            6px 6px 0 rgba(0, 0, 0, 0.2);
        margin-bottom: 20px;
        font-family: 'Georgia', serif;
    }
    
    .gift-number-badge {
        display: inline-block;
        background: #1565c0;
        color: white;
        padding: 15px 30px;
        border-radius: 50px;
        font-size: 2rem;
        font-weight: bold;
        box-shadow: 0 10px 30px rgba(21, 101, 192, 0.3);
        margin-bottom: 30px;
        border: 3px solid #ffd700;
    }
    
    .gift-image-wrapper {
        width: 400px;
        height: 400px;
        margin: 40px auto;
        position: relative;
        border-radius: 25px;
        overflow: hidden;
        border: 5px solid #ffd700;
        box-shadow: 
            0 20px 60px rgba(0, 0, 0, 0.3),
            0 0 50px rgba(255, 215, 0, 0.5);
        background: white;
        padding: 30px;
        transition: transform 0.5s ease;
    }
    
    .gift-image-wrapper:hover {
        transform: scale(1.02) rotate(2deg);
    }
    
    .gift-image {
        width: 100%;
        height: 100%;
        object-fit: contain;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
    }
    
    .gift-message-container {
        background: linear-gradient(135deg, #fff8e1, #ffecb3);
        border-radius: 25px;
        padding: 40px;
        margin: 50px 0;
        border-left: 10px solid #ff9800;
        position: relative;
        overflow: hidden;
    }
    
    .gift-message-container::before {
        content: '‚ùÑÔ∏è';
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 3rem;
        opacity: 0.2;
    }
    
    .gift-message-label {
        font-size: 1.8rem;
        color: #5d4037;
        margin-bottom: 25px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
    }
    
    .gift-message {
        font-size: 2rem;
        color: #333;
        line-height: 1.6;
        font-style: italic;
        text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.1);
        padding: 20px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }
    
    .gift-recipient {
        font-size: 1.5rem;
        color: #666;
        margin-top: 30px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 15px;
        display: inline-block;
    }
    
    .gift-recipient strong {
        color: #1565c0;
    }
    
    .gift-actions {
        margin: 50px 0;
        display: flex;
        justify-content: center;
        gap: 30px;
        flex-wrap: wrap;
    }
    
    .gift-btn {
        padding: 20px 40px;
        font-size: 1.5rem;
        font-weight: bold;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
        min-width: 250px;
    }
    
    .gift-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }
    
    .gift-btn-back {
        background: linear-gradient(135deg, #42a5f5, #1565c0);
        color: white;
        border: 3px solid #90caf9;
    }
    
    .gift-btn-home {
        background: linear-gradient(135deg, #66bb6a, #2e7d32);
        color: white;
        border: 3px solid #a5d6a7;
    }
    
    .gift-decoration {
        position: absolute;
        z-index: 1;
    }
    
    .decoration-1 {
        top: 20%;
        left: 5%;
        font-size: 4rem;
        animation: float 6s ease-in-out infinite;
    }
    
    .decoration-2 {
        top: 10%;
        right: 8%;
        font-size: 3rem;
        animation: float 8s ease-in-out infinite 1s;
    }
    
    .decoration-3 {
        bottom: 20%;
        left: 10%;
        font-size: 2.5rem;
        animation: float 7s ease-in-out infinite 2s;
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
    }
    
    @media (max-width: 768px) {
        .gift-container {
            padding: 30px;
        }
        
        .gift-header h1 {
            font-size: 2.5rem;
        }
        
        .gift-image-wrapper {
            width: 300px;
            height: 300px;
        }
        
        .gift-message {
            font-size: 1.5rem;
        }
        
        .gift-btn {
            min-width: 200px;
            padding: 15px 30px;
            font-size: 1.2rem;
        }
    }
    
    @media (max-width: 480px) {
        .gift-container {
            padding: 20px;
        }
        
        .gift-image-wrapper {
            width: 250px;
            height: 250px;
        }
        
        .gift-message {
            font-size: 1.3rem;
        }
        
        .gift-actions {
            flex-direction: column;
            align-items: center;
        }
    }
</style>

<div class="gift-page-background">
    <!-- –î–µ–∫–æ—Ä–∞—Ü–∏–∏ -->
    <div class="gift-decoration decoration-1">üéÅ</div>
    <div class="gift-decoration decoration-2">‚ú®</div>
    <div class="gift-decoration decoration-3">‚ùÑÔ∏è</div>
    
    <div class="gift-container">
        <div class="gift-header">
            <h1>–í–∞—à –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ü–æ–¥–∞—Ä–æ–∫!</h1>
            <div class="gift-number-badge">
                –ü–æ–¥–∞—Ä–æ–∫ ‚Ññ{{ gift_id + 1 }}
            </div>
        </div>
        
        <div class="gift-image-wrapper">
            <img src="{{ image }}" alt="–ü–æ–¥–∞—Ä–æ–∫" class="gift-image">
        </div>
        
        <div class="gift-message-container">
            <div class="gift-message-label">
                <span>üéÖ –ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ:</span>
            </div>
            <div class="gift-message">
                "{{ message }}"
            </div>
            <div class="gift-recipient">
                üíù –î–ª—è: <strong>{{ username }}</strong>
            </div>
        </div>
        
        <div class="gift-actions">
            <a href="/lab9/" class="gift-btn gift-btn-back">
                ‚Üê –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏
            </a>
            <a href="/" class="gift-btn gift-btn-home">
                üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
            </a>
        </div>
        
        <div style="margin-top: 50px; padding: 25px; background: rgba(255, 248, 225, 0.7); border-radius: 20px;">
            <div style="font-size: 1.2rem; color: #5d4037; margin-bottom: 15px;">
                üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π —Å—é—Ä–ø—Ä–∏–∑ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω!
            </div>
            <div style="font-size: 1rem; color: #666;">
                –≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –≤–∞—à–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –í—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–µ–º—É –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è!
            </div>
        </div>
    </div>
</div>

<script>
    // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.style.cssText = `
                    position: fixed;
                    width: ${Math.random() * 12 + 6}px;
                    height: ${Math.random() * 12 + 6}px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    top: -20px;
                    left: ${Math.random() * 100}vw;
                    border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
                    opacity: ${Math.random() * 0.8 + 0.2};
                    z-index: 9999;
                    pointer-events: none;
                    animation: confetti-fall ${Math.random() * 2 + 1}s ease-in forwards;
                `;
                
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
            }
        }, 500);
    });
</script>
{% endblock %}